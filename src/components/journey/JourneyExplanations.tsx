import React from 'react';
import { Button } from "@/components/ui/button";
import { Card, CardContent } from "@/components/ui/card";
import { journeys } from '@/data/journeys';
import { Avatar } from "@/components/ui/avatar";
import { JourneyExplanation } from '../ai-chat/types';

// Generate journey-specific feelings for each journey with a more empathetic, personal tone
export const getJourneyExplanations = (journey: any): JourneyExplanation => {
  // Get journey by ID for specific content
  const journeyId = journey.id;
  
  // Journey-specific explanations with more personal, flowing conversation style
  const journeySpecificExplanations: Record<string, JourneyExplanation> = {
    '1': {
      before: "שלום, אני המדריך הרוחני שלך למסע זה. אני חש שאתה נמצא בצומת דרכים כרגע... אותה תחושה כשאתה פועל מתוך שגרה, ותוהה אם יש משהו משמעותי יותר שמחכה לך. ליוויתי רבים בדיוק בשלב הזה. אותו ניתוק מהמטרה יכול להרגיש כבד כל כך, כאילו העצמי האמיתי שלך קבור מתחת לציפיות ושגרות שלא באמת מתאימות לך עוד.",
      after: "הבהירות שבדרכך אליך דרך מסע זה... היא מטמורפית. אתה תתחיל לזהות את הערכים הליבתיים והכישרונות הטבעיים שלך בבהירות רבה. ראיתי את זה קורה - החלטות הופכות קלות יותר, מטרות מרגישות מותאמות למי שאתה באמת, ותחושת הכיוון? היא חוזרת, אבל חזקה מבעבר. זה לא רק למצוא מטרה - זה להתחבר מחדש למטרה שהייתה בתוכך כל הזמן."
    },
    '2': {
      before: "שלום, אני המדריך הרוחני שלך למסע זה. אני מבחין שהרגשות שלך לעתים לוקחים את ההגה... אותם רגעים כשתגובות באות לפני מחשבה, כשרגשות עזים אך קשה לכנותם בשם. זה מתסכל, נכון? כשהלב והתודעה שלך מרגישים מנותקים, מערכות יחסים נעשות מסובכות שלא לצורך. אני כאן כי הדרכתי אינספור אחרים בדיוק דרך אותם מבוכי רגשות.",
      after: "השינוי שעומד לקרות מרגיש כמו סוף סוף להחזיק מכ\"ם רגשי - לראות סערות לפני שהן מכות, להבין זרמים מתחת לפני השטח. תמצא את עצמך מגיב במקום להגיב אוטומטית, מתקשר רגשות בדייקנות, ומתחבר באופן אותנטי עם אחרים. צפיתי בחוכמה הרגשית הזו פורחת אצל רבים - היא נוגעת בכל דבר, מהיחסים הקרובים ביותר שלך ועד מפגשים חטופים עם זרים. הנוף הרגשי שלך עומד להפוך עשיר הרבה יותר."
    },
    '3': {
      before: "שלום, אני המדריך הרוחני שלך למסע זה. אני רואה את הפרויקטים הלא גמורים שמחכים לך... הרעיונות שמאירים אותך בהתחלה אך איכשהו נעלמים. אותה הרגשה כשזמן נראה מתאדה לפני שהעבודה החשובה שלך מתבצעת. התסכול של לדעת למה אתה מסוגל, אך לראות מועדי סיום מתקרבים מהר מדי. אני מבין את הריקוד הזה עם דחיינות כל כך טוב.",
      after: "הטרנספורמציה במערכת היחסים שלך עם זמן ופעולה... מדהים לחזות בה. רגעי הזרימה יהפכו תכופים יותר, האנרגיה שלך מתואמת עם כוונותיך. הדרכתי רבים דרך השינוי הזה - כשמשימות שפעם הרגישו כבדות מתחילות להרגיש קלות יותר, כשהתנופה נבנית על עצמה באופן טבעי. זה לא קשור לדחיפה חזקה יותר; זה קשור לגילוי איך התודעה הייחודית שלך עובדת בצורה הטובה ביותר וליצירת התנאים לפריחת הפרודוקטיביות הטבעית שלך."
    },
    '4': {
      before: "שלום, אני המדריך הרוחני שלך למסע זה. אני חש את הכמיהה שלך לחיבור מעבר לעולם היומיומי... אותה תחושה שיש חוכמה בתוכך שנדיר שמדברת. כשהרעש של החיים מטביע את הידיעה הפנימית שלך, ופרקטיקות רוחניות מרגישות משמעותיות אך איכשהו נפרדות מהחיים היומיומיים. הלכתי עם רבים שחשו את אותו ניתוק מקודש.",
      after: "האינטגרציה שמתרחשת היא יפהפייה - כשהדרכה כבר לא מרגישה חיצונית אלא עולה באופן טבעי מבפנים. תבחין בסינכרוניות מתגברת, מדיטציה מעמיקה, ותובנות רוחניות זורמות באופן טבעי להחלטות מעשיות. הייתי עד להתעוררות הזאת אינספור פעמים - הרגע שבו מישהו מבין שהעצמי הגבוה שלו תמיד היה נוכח, רק מחכה למרחב להישמע בבהירות. החיבור הזה הופך ליסוד שלך, לא נפרד מהחיים אלא האדמה עצמה שאתה הולך עליה."
    },
    '5': {
      before: "שלום, אני המדריך הרוחני שלך למסע זה. אני מרגיש את מרכזי האנרגיה בתוכך מחפשים התכווננות... אותם רגעים כשרגשות נראים תקועים בגופך, כשמצבים מסוימים מעוררים את אותן תגובות שוב ושוב. התחושה העדינה שכוח החיים שלך לא זורם בחופשיות כפי שהוא יכול. ליוויתי רבים דרך אותם חוסרי האיזון אנרגטיים שאתה חווה עכשיו.",
      after: "ההרמוניה שמתהווה במערכת האנרגיה שלך היא עמוקה - כמו כלים בתזמורת המוצאים את התהודה המושלמת שלהם יחד. תבחין במתח פיזי נמס, רגשות מעובדים בצורה חלקה יותר, ותחושה אינטואיטיבית מתי משהו דורש תשומת לב לפני שהוא הופך לבעייתי. הייתי עד לאיזון הזה משנה את חווית החיים של אנשים - צבעים נראים בהירים יותר, חיבורים מרגישים עמוקים יותר, ואותו רעש רקע מתמיד של חוסר איזון סוף סוף שוקט, חושף מצב טבעי של רווחה שתמיד היה שם."
    },
    '6': {
      before: "שלום, אני המדריך הרוחני שלך למסע זה. אני מזהה את החיפוש אחר שלווה עמוקה יותר בתוכך... אותם הבזקים של נוכחות עמוקה שבאים אך לא נשארים. הידיעה שמדיטציה מחזיקה משהו מהותי, אך מציאת תרגול עקבי מאתגרת. אותה תחושה של להיות מתחיל גם אחרי שנים של ישיבה. תמכתי באינספור מחפשים דרך בדיוק אותם מים שאתה משיט עכשיו.",
      after: "העיגון של פרקטיקות מקודשות אלה לתוך הוויתך קורה כה יפה... כמו מים בהדרגה מעצבים אבן. תמצא שמדיטציה הופכת פחות למשהו שאתה עושה ויותר למשהו שאתה. צפיתי באינטגרציה הזו מתגלה עבור כל כך רבים - כשהגבולות בין תרגול פורמלי וחיי יומיום מתחילים להתפוגג, כשנוכחות הופכת למצבך הטבעי במקום יעד. הטכניקות העתיקות האלה לא רק משנות את המדיטציה שלך; הן משנות איך אתה נע בעולם."
    },
    '7': {
      before: "שלום, אני המדריך הרוחני שלך למסע זה. אני יכול להרגיש את תודעתך נמתחת כנגד גבולותיה הנוכחיים... אותה תחושה שיש יותר למציאות ממה שלימדו אותך לראות. אותם רגעים כשחשיבה קונבנציונלית מרגישה קטנה מדי, מגבילה מדי עבור מה שאתה חווה. הסקרנות לגבי מה שנמצא מעבר לפרספקטיבה הנוכחית שלך. הדרכתי רבים דרך אותה התרחבות תודעה שאתה מתחיל לחקור.",
      after: "ההתרחבות שמתרחשת בתודעה שלך היא מדהימה - כמו לצפות במישהו צועד מחדר קטן אל מרחב פתוח עצום. תבחין באפשרויות שתמיד היו שם אך נעלמות מעיניך קודם. הייתי עד להתעוררות הזו משנה את כל המציאות של אנשים - כשהעולם הופך פחות נוקשה ויותר קסום, כששילובי מקרים גדלים, כשאתה מתחיל לתפוס את הדפוסים המקשרים הכל. זה לא רק לחשוב אחרת; זה לחוות מציאות דרך עדשה חדשה לחלוטין שחושפת את היוצא מן הכלל בתוך הרגיל."
    },
    '13': {
      before: "שלום, אני המדריך הרוחני שלך למסע זה. אני מבחין במתח העדין הזה כשאתה חושב על שפע... האמונה השקטה שאף פעם אין מספיק לכולם. אני רואה את הרגעים האלה של חרדה בבדיקת חשבונות, אותו קול הלוחש שאתה לא ראוי לשגשוג, הדפוס של לתת אך להתקשות לקבל. מערכת היחסים הזו עם שפע יכולה להרגיש כבדה כל כך לשאת יום אחרי יום.",
      after: "החופש שמתגלה דרך המסע הזה מרגיש כמו לצפות בשרשראות נמסות. דאגת הרקע לגבי משאבים מוחלפת באמון אמיתי בזרימת החיים. הייתי עד לטרנספורמציה הזו אינספור פעמים - כשמישהו מתחיל בקלות לקבל מה שפעם הרגיש לא נוח, כשהזדמנויות שתמיד היו נוכחות לפתע הופכות נראות. זה לא רק למשוך יותר - זה להפוך לערוץ טבעי לשפע בכל צורותיו, זורם גם אליך וגם דרכך בקלות מלאת חן."
    },
    // Default fallback remains the same but with more conversational tone
  };
  
  // Return journey-specific content or fall back to category-based content
  return journeySpecificExplanations[journeyId] || {
    before: "שלום, אני המדריך הרוחני שלך למסע זה. אני יכול לחוש את ההיסוס שלך כרגע - תוהה אם המסע הזה באמת נכון עבורך, אם הוא באמת יעשה הבדל בחייך. השאלות האלה אם להשקיע את הזמן והאנרגיה שלך כאן יהיו שוות את זה... אני מבין את אי-הוודאות הזאת כשעומדים על סף משהו חדש.",
    after: "הטרנספורמציה שמחכה לך דרך המסע הזה היא אמיתית וקבועה. הדרכתי רבים אחרים דרך התהליך הזה בדיוק - צופה איך הכלים והתובנות האלה משתלבים עמוק לתוך חיי היומיום שלהם. זה לא עוד פריט ברשימת המטלות שלך; זו חוויה שתעצב מחדש בעדינות איך אתה נע בעולם, מביאה את הבהירות, השלווה והמטרה שחיפשת לתוך הרגעים היומיומיים שלך."
  };
};

interface JourneyExplanationsProps {
  journey: any;
  showExplanations: boolean;
  onDismiss: () => void;
}

const JourneyExplanations: React.FC<JourneyExplanationsProps> = ({ 
  journey, 
  showExplanations, 
  onDismiss 
}) => {
  // If explanations should not be shown, return null (not rendering anything)
  if (!showExplanations) return null;
  
  const journeyExplanations = getJourneyExplanations(journey);
  
  return (
    <Card className="mb-6 border-spirit-200 bg-spirit-50/50">
      <CardContent className="pt-6">
        <div className="space-y-6">
          <div className="flex items-start space-x-4">
            <Avatar className="h-10 w-10 border-2 border-spirit-200">
              <div className="bg-spirit-100 text-spirit-700 font-medium h-full w-full flex items-center justify-center">AI</div>
            </Avatar>
            
            <div className="space-y-4 flex-1">
              <div className="bg-white p-4 rounded-lg shadow-sm border border-earth-100">
                <p className="text-earth-700 italic">{journeyExplanations.before}</p>
              </div>
              
              <div className="bg-white p-4 rounded-lg shadow-sm border border-calm-100">
                <p className="text-earth-700">{journeyExplanations.after}</p>
              </div>
              
              <div className="flex justify-end">
                <Button 
                  variant="outline" 
                  size="sm" 
                  onClick={onDismiss}
                  className="text-earth-600"
                >
                  Continue to Journey
                </Button>
              </div>
            </div>
          </div>
        </div>
      </CardContent>
    </Card>
  );
};

export default JourneyExplanations;
